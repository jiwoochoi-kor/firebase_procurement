# 구매현황 대시보드 (Purchase Status Dashboard) PRD

## 1. 개요 (Overview)
**프로젝트명:** 구매현황 대시보드
**목표:** `ref/procurement.xlsx` 파일의 구매 데이터를 시각적으로 확인하고, 연도별 구매 추이 및 주요 카테고리별 비중, 품목군별 입고 주기를 파악할 수 있는 대시보드를 구축한다.

## 2. 데이터 소스 (Data Source)
- **파일:** `ref/procurement.xlsx`
- **구조:**
    - 데이터는 3행(index 2)부터 시작 (헤더: 연, 전체 구매금액, ETC, CH, 건기식, 글로벌, 기타 등)
    - 주요 컬럼: 연도, 전체 구매금액, 각 품목군(ETC, CH, 건기식, 글로벌, 기타)별 구매금액

## 3. 주요 기능 (Key Features)

### 3.1 주요 지표 표시 (KPIs)
- **전체 기간 총 구매금액:** 데이터에 있는 모든 연도의 총 구매금액 합계
- **최신 연도 구매금액:** 가장 최근 연도의 구매금액
- **전년 대비 증감율 (YoY):** 최신 연도와 직전 연도의 구매금액 비교
- **품목군별 입고 주기:** 각 품목군(ETC, CH, 건기식 등)의 입고 빈도 또는 주기 (데이터 가용성 확인 필요, 연도별 데이터만 있을 경우 추정치 또는 별도 로직 적용)

### 3.2 차트 시각화 (Charts)
- **연도별 구매금액 추이:** 라인 차트 또는 바 차트 (연도 vs 전체 구매금액)
- **품목군별 구매 비중:** 연도별 각 품목군(ETC, CH, 건기식, 글로벌, 기타)의 구매 비중 시각화 (누적 바 차트 또는 파이 차트)
- **품목군별 트렌드 비교:** 각 품목군의 연도별 성장 추이 비교 (멀티 라인 차트)

### 3.3 데이터 관리 (Data Management)
- 엑셀 파일(`ref/procurement.xlsx`)을 로드하여 전처리 (헤더 인식 및 불필요한 행 제거)
- 데이터프레임 표시 및 다운로드 기능

## 4. 기술 스택 (Tech Stack)
- **언어:** Python
- **웹 프레임워크:** Streamlit
- **데이터 처리:** Pandas, OpenPyxl
- **시각화:** Streamlit Native Charts (Altair 기반)

## 5. UI/UX 디자인
- **사이드바:** 데이터 로드 상태 표시, 연도 필터링
- **메인 화면:**
    - 상단: KPI 메트릭 (총 구매액, 최신 연도 구매액, 품목군별 입고 주기 요약)
    - 중단: 연도별/품목군별 차트 그리드
    - 하단: 상세 데이터 테이블

## 6. 개발 단계 (Milestones)
1. **환경 설정:** `pandas`, `openpyxl`, `streamlit` 설치 (완료)
2. **데이터 전처리:** 엑셀 파일 로드 및 정제, 품목군별 데이터 분리
3. **UI 구현:** Streamlit 레이아웃 구성
4. **시각화 구현:** KPI 및 차트 연동, 입고 주기 계산 로직 구현(데이터 확인 필요)
5. **테스트:** 데이터 로드 및 차트 표시 확인

---
**확인 요청:** 
`ref/procurement.xlsx` 파일 구조를 반영하고, 요청하신 '품목군별 입고 주기'를 주요 지표에 추가했습니다.
(단, 현재 파일에 '입고 날짜' 상세 데이터가 없고 '연도별 금액'만 있다면 입고 주기를 정확히 산출하기 어려울 수 있으니, 이 경우 평균적인 주기나 가상의 로직을 적용할 수 있습니다.)
이대로 개발을 진행하시겠습니까?
